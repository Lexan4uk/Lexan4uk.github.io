"use strict";document.addEventListener("DOMContentLoaded",(function(){var t,e,n,a,o,r,i,l,d,c,s;(t=document.getElementById("dropdown-list-line-drop-btn"))&&t.addEventListener("click",(function(){var e=t.classList.toggle("is-open");document.querySelectorAll(".".concat("catalog__dropdown-list-line-drop")).forEach((function(t){t.style.display=e?"flex":""}));var n=t.querySelector("span");n&&(n.textContent=e?"скрыть категории":"все категории")})),e="is-open",n=new Map,a=function(){return window.innerWidth<=768},o=function(t){t&&t.id&&(n.has(t.id)||n.set(t.id,{parent:t.parentElement,next:t.nextElementSibling}))},r=function(t){var e=n.get(t.id);e&&e.parent&&(e.next&&e.next.parentNode===e.parent?e.parent.insertBefore(t,e.next):e.parent.appendChild(t))},i=function(t){var e;if(t)if(o(t),a()){var n=(e=t.id,document.querySelector("".concat("[data-catalog-dropdown-slot]",'[data-catalog-dropdown-slot="').concat(e,'"]')));n&&n.appendChild(t)}else r(t)},document.addEventListener("click",(function(t){var n=t.target.closest("[data-catalog-dropdown-trigger]");if(n){t.preventDefault();var a=n.getAttribute("aria-controls");if(a){var o=document.getElementById(a);if(o){var r=o.classList.contains(e);r||i(o),o.classList.toggle(e,!r),o.classList.toggle("is-collapsed",r),n.textContent=r?"подробнее":"скрыть",n.setAttribute("aria-expanded",String(!r))}}}})),window.addEventListener("resize",(function(){document.querySelectorAll(".catalog__dropdown-list-holder[id]").forEach((function(t){o(t),a()||r(t)}))})),l="[data-catalog-toggle]",d="[data-catalog-item]",c="is-hidden",s=function(t){t.querySelectorAll(d).forEach((function(t,e){t.classList.toggle(c,e>=4)}));var e=t.querySelector(l);if(e){e.setAttribute("aria-expanded","false");var n=e.querySelector("span");n&&(n.textContent="смотреть все")}},document.addEventListener("click",(function(t){var e=t.target.closest(l);if(e){t.preventDefault();var n=e.closest(".catalog__dropdown-list-holder");if(n){var a=n.querySelectorAll(d),o=!("true"===e.getAttribute("aria-expanded"));a.forEach((function(t,e){e>=4&&t.classList.toggle(c,!o)})),e.setAttribute("aria-expanded",String(o));var r=e.querySelector("span");r&&(r.textContent=o?"свернуть":"смотреть все")}}})),document.querySelectorAll(".catalog__dropdown-list-holder").forEach(s)}));